{
  "id": "webhook-test-trigger",
  "version": "1.0.0",
  "metadata": {
    "name": "Webhook Test Trigger",
    "description": "AutomaÃ§Ã£o acionada por webhook - mostra dados recebidos e executa aÃ§Ãµes",
    "author": "FLUI Team",
    "created": "2025-11-04",
    "tags": ["webhook", "trigger", "test"],
    "category": "webhook-triggers"
  },
  "triggers": [
    {
      "type": "exact",
      "pattern": "@webhook-test"
    }
  ],
  "variables": {
    "webhookData": {"type": "string", "defaultValue": ""},
    "action": {"type": "string", "defaultValue": ""},
    "timestamp": {"type": "string", "defaultValue": ""}
  },
  "steps": [
    {
      "id": "1",
      "type": "log",
      "message": "ðŸ”” Webhook recebido!",
      "level": "info"
    },
    {
      "id": "2",
      "type": "log",
      "message": "ðŸ“¦ Dados do webhook: ${variables.webhookData}",
      "level": "info"
    },
    {
      "id": "3",
      "type": "set_variable",
      "variableName": "timestamp",
      "value": "webhook-received"
    },
    {
      "id": "4",
      "type": "tool",
      "toolName": "write_file",
      "toolArgs": {
        "file_path": "webhook-received-${variables.timestamp}.json",
        "content": "{\"webhook_triggered\":true,\"data\":\"${variables.webhookData}\",\"action\":\"${variables.action}\",\"processed_at\":\"now\"}"
      }
    },
    {
      "id": "5",
      "type": "tool",
      "toolName": "trigger_webhook",
      "toolArgs": {
        "url": "https://httpbin.org/post",
        "method": "POST",
        "payload": {
          "source": "flui-webhook-automation",
          "webhook_data": "${variables.webhookData}",
          "action": "${variables.action}",
          "response": "Webhook processed successfully"
        },
        "headers": {
          "Content-Type": "application/json",
          "X-FLUI-Webhook": "test"
        }
      }
    },
    {
      "id": "6",
      "type": "log",
      "message": "âœ… Webhook processado e resposta enviada!",
      "level": "success"
    }
  ],
  "errorHandling": {
    "onStepError": "skip",
    "maxRetries": 0,
    "logErrors": true
  }
}
