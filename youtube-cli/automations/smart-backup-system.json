{
  "id": "smart-backup-system",
  "version": "1.0.0",
  "metadata": {
    "name": "Smart Backup",
    "description": "Sistema inteligente de backup",
    "author": "FLUI Team",
    "created": "2025-11-04",
    "tags": ["backup", "files"],
    "category": "system"
  },
  "triggers": [
    {
      "type": "contains",
      "pattern": "backup"
    }
  ],
  "variables": {
    "backupId": {"type": "string", "defaultValue": ""},
    "filesList": {"type": "string", "defaultValue": ""}
  },
  "steps": [
    {
      "id": "1",
      "type": "log",
      "message": "ðŸ’¾ Backup iniciado...",
      "level": "info"
    },
    {
      "id": "2",
      "type": "set_variable",
      "variableName": "backupId",
      "value": "backup-001"
    },
    {
      "id": "3",
      "type": "tool",
      "toolName": "find_files",
      "toolArgs": {
        "pattern": "*.json",
        "directory": "automations"
      },
      "saveResultAs": "filesList"
    },
    {
      "id": "4",
      "type": "tool",
      "toolName": "write_file",
      "toolArgs": {
        "file_path": "backup-${variables.backupId}-manifest.json",
        "content": "{\"backup_id\":\"${variables.backupId}\",\"files\":\"${variables.filesList}\",\"status\":\"completed\"}"
      }
    },
    {
      "id": "5",
      "type": "log",
      "message": "âœ… Backup ${variables.backupId} concluÃ­do!",
      "level": "success"
    }
  ],
  "errorHandling": {
    "onStepError": "skip",
    "maxRetries": 0,
    "logErrors": true
  }
}
