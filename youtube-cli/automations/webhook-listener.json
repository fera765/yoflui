{
  "id": "webhook-listener",
  "version": "1.0.0",
  "metadata": {
    "name": "Webhook Listener Setup",
    "description": "Configura webhook listener - mostra URL, API key e aguarda trigger externo",
    "author": "FLUI Team",
    "created": "2025-11-04",
    "tags": ["webhook", "listener", "setup"],
    "category": "webhook-triggers"
  },
  "triggers": [
    {
      "type": "exact",
      "pattern": "setup webhook"
    },
    {
      "type": "exact",
      "pattern": "configurar webhook"
    }
  ],
  "webhookConfig": {
    "enabled": true,
    "requireAuth": true,
    "method": "POST",
    "expectedPayload": {
      "action": "string",
      "data": "object"
    }
  },
  "variables": {
    "webhookData": {"type": "string", "defaultValue": ""},
    "action": {"type": "string", "defaultValue": ""},
    "receivedAt": {"type": "string", "defaultValue": ""}
  },
  "steps": [
    {
      "id": "1",
      "type": "log",
      "message": "ðŸ”” Webhook triggered! Processing data...",
      "level": "info"
    },
    {
      "id": "2",
      "type": "log",
      "message": "ðŸ“¦ Action: ${variables.action}",
      "level": "info"
    },
    {
      "id": "3",
      "type": "set_variable",
      "variableName": "receivedAt",
      "value": "processed"
    },
    {
      "id": "4",
      "type": "tool",
      "toolName": "write_file",
      "toolArgs": {
        "file_path": "webhook-received-${variables.receivedAt}.json",
        "content": "{\"action\":\"${variables.action}\",\"webhook_data\":\"${variables.webhookData}\",\"processed\":true}"
      }
    },
    {
      "id": "5",
      "type": "log",
      "message": "âœ… Webhook processado e salvo!",
      "level": "success"
    }
  ],
  "errorHandling": {
    "onStepError": "skip",
    "maxRetries": 0,
    "logErrors": true
  }
}
